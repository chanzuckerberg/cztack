language: bash
sudo: false
dist: trusty

install:
  - wget -t 10 -O terraform.zip https://releases.hashicorp.com/terraform/0.11.7/terraform_0.11.7_linux_amd64.zip
  - unzip terraform.zip
  - mv terraform ~/bin/
  - chmod +x ~/bin/terraform
  - wget -t 10 -O terraform-docs https://github.com/segmentio/terraform-docs/releases/download/v0.3.0/terraform-docs_linux_amd64
  - mv terraform-docs ~/bin/terraform-docs
  - chmod +x ~/bin/terraform-docs

jobs:
  include:
    - stage: check
      script: make lint
    - stage: check
      script: make check-docs